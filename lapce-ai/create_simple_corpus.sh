#!/bin/bash

# Create corpus seeds for fuzzing (binary files)
mkdir -p fuzz/corpus

# Seed 1: Valid header (24 bytes) - "LAPC" magic + version 1
printf "\x43\x50\x41\x4C\x01\x00\x01\x00\x00\x00\x00\x00\x39\x30\x00\x00\x00\x00\x00\x00\x12\x34\x56\x78" > fuzz/corpus/valid_header

# Seed 2: Invalid magic
printf "\xEF\xBE\xAD\xDE\x01\x00\x01\x00\x00\x00\x00\x00\x39\x30\x00\x00\x00\x00\x00\x00\x12\x34\x56\x78" > fuzz/corpus/bad_magic

# Seed 3: Invalid version
printf "\x43\x50\x41\x4C\x63\x00\x01\x00\x00\x00\x00\x00\x39\x30\x00\x00\x00\x00\x00\x00\x12\x34\x56\x78" > fuzz/corpus/bad_version

# Seed 4: Truncated (23 bytes)
printf "\x43\x50\x41\x4C\x01\x00\x01\x00\x64\x00\x00\x00\x39\x30\x00\x00\x00\x00\x00\x00\x12\x34\x56" > fuzz/corpus/truncated

# Seed 5: Oversized claim (100MB length)
printf "\x43\x50\x41\x4C\x01\x00\x01\x00\x00\xe1\xf5\x05\x39\x30\x00\x00\x00\x00\x00\x00\x12\x34\x56\x78" > fuzz/corpus/oversized

# Seed 6: Empty file
touch fuzz/corpus/empty

# Seed 7: Single byte
printf "\x00" > fuzz/corpus/single_byte

# Seed 8: Boundary 25 bytes
printf "\x43\x50\x41\x4C\x01\x00\x01\x00\x00\x00\x00\x00\x39\x30\x00\x00\x00\x00\x00\x00\x12\x34\x56\x78\xFF" > fuzz/corpus/boundary_25

echo "Created 8 corpus seeds for fuzzing"
ls -la fuzz/corpus/
